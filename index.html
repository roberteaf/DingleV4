<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Mines Game - Animated & Stylish</title>
<style>
  /* Background red-blue gradient */
  body, html {
    margin: 0; padding: 0; height: 100%;
    background: linear-gradient(45deg, #ff0000 0%, #0000ff 100%);
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    overflow: hidden;
  }

  /* Main GUI container */
  #gameContainer {
    background: #111; /* deep black */
    border-radius: 15px;
    padding: 30px;
    box-shadow:
      0 0 20px rgba(255,0,0,0.6),
      0 0 40px rgba(0,0,255,0.6);
    width: 450px;
    max-width: 95vw;
    user-select: none;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  /* Title */
  #gameContainer h1 {
    color: #eee;
    margin-bottom: 15px;
    font-weight: 900;
    letter-spacing: 2px;
    text-shadow:
      0 0 10px #ff0000,
      0 0 20px #0000ff;
  }

  /* Info / Score panel */
  #infoPanel {
    color: #ccc;
    margin-bottom: 20px;
    font-size: 1.1em;
    min-height: 24px;
    text-align: center;
    font-weight: 600;
  }

  /* Grid container */
  #grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    grid-gap: 12px;
    width: 100%;
  }

  /* Each cell button */
  .cell {
    background: #222;
    border-radius: 8px;
    height: 50px;
    cursor: pointer;
    border: 2px solid #444;
    position: relative;
    overflow: hidden;
    transition:
      background-color 0.3s ease,
      box-shadow 0.3s ease,
      transform 0.15s ease;
    color: transparent;
    font-size: 24px;
    font-weight: 900;
    user-select: none;
  }

  /* Hover effect on safe cells */
  .cell.safe:hover {
    background-color: #0f0a0f;
    box-shadow:
      0 0 8px #00ff88,
      0 0 20px #00ff88;
    transform: scale(1.1);
    color: #00ff88;
  }

  /* Clicked safe cell */
  .cell.safe.revealed {
    background-color: #005500;
    color: #00ff88;
    box-shadow: 0 0 10px #00ff88;
    cursor: default;
    transform: scale(1);
  }

  /* Mine cell clicked */
  .cell.mine {
    background-color: #440000;
    color: #ff4444;
    box-shadow:
      0 0 15px #ff0000,
      0 0 35px #ff2222;
    cursor: default;
    animation: explode 0.7s ease forwards;
  }

  /* Disable pointer on revealed cells */
  .cell.revealed {
    pointer-events: none;
  }

  /* Animation for explosion */
  @keyframes explode {
    0% {
      transform: scale(1);
      box-shadow:
        0 0 15px #ff0000,
        0 0 35px #ff2222;
    }
    50% {
      transform: scale(1.4) rotate(15deg);
      box-shadow:
        0 0 40px #ff0000,
        0 0 60px #ff5555;
      color: #ff0000;
    }
    100% {
      transform: scale(1) rotate(0deg);
      box-shadow:
        0 0 15px #ff0000,
        0 0 35px #ff2222;
      color: #ff4444;
    }
  }

  /* Reset button */
  #resetBtn {
    margin-top: 25px;
    background: #222;
    border: 2px solid #00ccff;
    padding: 12px 24px;
    border-radius: 12px;
    font-size: 1.2em;
    color: #00ccff;
    cursor: pointer;
    transition:
      background-color 0.3s ease,
      color 0.3s ease,
      box-shadow 0.3s ease;
    font-weight: 700;
    user-select: none;
  }

  #resetBtn:hover {
    background-color: #00ccff;
    color: #111;
    box-shadow:
      0 0 20px #00ccff,
      0 0 40px #00ccff;
  }

  /* Footer credit */
  #footer {
    margin-top: 15px;
    font-size: 0.75em;
    color: #666;
    user-select: none;
  }

  /* Responsive adjustments */
  @media (max-width: 500px) {
    #gameContainer {
      width: 90vw;
      padding: 20px;
    }
    .cell {
      height: 40px;
      font-size: 20px;
    }
  }
</style>
</head>
<body>

<div id="gameContainer" role="main" aria-label="Mines Game">
  <h1>Mines</h1>
  <div id="infoPanel" aria-live="polite" aria-atomic="true">Click on the tiles to find safe spots. Avoid the mines!</div>
  <div id="grid" aria-label="Game grid" role="grid" aria-rowcount="7" aria-colcount="7"></div>
  <button id="resetBtn" aria-label="Reset Game Button">Restart Game</button>
  <div id="footer">Â© 2025 Mines Game</div>
</div>

<script>
  (() => {
    const gridSize = 7; // 7x7 grid
    const totalCells = gridSize * gridSize;
    const minesCount = 10; // number of mines in grid

    const gridEl = document.getElementById('grid');
    const infoPanel = document.getElementById('infoPanel');
    const resetBtn = document.getElementById('resetBtn');

    let minePositions = new Set();
    let revealedCount = 0;
    let gameOver = false;

    // Generate random mine positions
    function generateMines() {
      minePositions.clear();
      while (minePositions.size < minesCount) {
        const pos = Math.floor(Math.random() * totalCells);
        minePositions.add(pos);
      }
    }

    // Create grid buttons
    function createGrid() {
      gridEl.innerHTML = '';
      for(let i = 0; i < totalCells; i++) {
        const btn = document.createElement('button');
        btn.classList.add('cell');
        btn.setAttribute('role', 'gridcell');
        btn.setAttribute('aria-label', `Tile ${i+1}`);
        // Mark mines & safe for hover effect
        if (minePositions.has(i)) {
          btn.classList.add('mine');
        } else {
          btn.classList.add('safe');
        }
        btn.dataset.index = i;
        gridEl.appendChild(btn);
      }
    }

    // Reveal safe spot
    function revealSafe(btn) {
      if (btn.classList.contains('revealed') || gameOver) return;
      btn.classList.add('revealed');
      btn.style.color = '#00ff88';
      btn.textContent = 'âœ“';
      revealedCount++;
      updateInfo(`Safe! Tiles cleared: ${revealedCount}/${totalCells - minesCount}`);
      checkWin();
    }

    // Reveal mine and end game
    function revealMine(btn) {
      if (btn.classList.contains('revealed') || gameOver) return;
      btn.classList.add('revealed');
      // Show mine symbol
      btn.textContent = 'ðŸ’£';
      updateInfo('ðŸ’¥ BOOM! You hit a mine! Game Over.', true);
      gameOver = true;
      revealAllMines();
    }

    // Reveal all mines on game over
    function revealAllMines() {
      const cells = gridEl.children;
      for(let i=0; i<cells.length; i++) {
        if (minePositions.has(i) && !cells[i].classList.contains('revealed')) {
          cells[i].classList.add('revealed');
          cells[i].textContent = 'ðŸ’£';
          cells[i].style.color = '#ff4444';
          cells[i].style.backgroundColor = '#440000';
          cells[i].style.boxShadow = '0 0 15px #ff0000, 0 0 35px #ff2222';
          cells[i].style.cursor = 'default';
        }
        cells[i].classList.remove('safe');
      }
    }

    // Check if player won
    function checkWin() {
      if (revealedCount === totalCells - minesCount) {
        updateInfo('ðŸŽ‰ Congratulations! You cleared all safe tiles!', false, true);
        gameOver = true;
      }
    }

    // Update info panel with optional error style
    function updateInfo(text, isError = false, isSuccess = false) {
      infoPanel.textContent = text;
      if (isError) {
        infoPanel.style.color = '#ff4444';
        infoPanel.style.textShadow = '0 0 8px #ff0000';
      } else if (isSuccess) {
        infoPanel.style.color = '#00ff88';
        infoPanel.style.textShadow = '0 0 8px #00ff88';
      } else {
        infoPanel.style.color = '#ccc';
        infoPanel.style.textShadow = 'none';
      }
    }

    // Handle cell click
    function onCellClick(e) {
      if (gameOver) return;
      const btn = e.target;
      if (!btn.classList.contains('cell') || btn.classList.contains('revealed')) return;

      const index = parseInt(btn.dataset.index);

      if (minePositions.has(index)) {
        revealMine(btn);
      } else {
        revealSafe(btn);
      }
    }

    // Reset game
    function resetGame() {
      gameOver = false;
      revealedCount = 0;
      updateInfo('Click on the tiles to find safe spots. Avoid the mines!');
      generateMines();
      createGrid();
    }

    // Init
    resetGame();

    // Event listeners
    gridEl.addEventListener('click', onCellClick);
    resetBtn.addEventListener('click', resetGame);

  })();
</script>

</body>
</html>
